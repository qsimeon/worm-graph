# @package _global_
# cds = cross dataset (generalization)
# We use single experimental datasets.
defaults:
  - override /submodule: [preprocess, dataset, model, train, predict, analysis, visualize]
  - _self_

hydra:
  mode: MULTIRUN
  sweeper:
  params:
    submodule.dataset.experimental_datasets: >
      ${hydra.utils.call(choice, [
        "{Kato2015:all, Nichols2017:null, Skora2018:null, Uzel2022:null, Yemini2021:null, Kaplan2020:null, Flavell2023:null, Leifer2023:null}", # Kato dataset
        "{Kato2015:null, Nichols2017:all, Skora2018:null, Uzel2022:null, Yemini2021:null, Kaplan2020:null, Flavell2023:null, Leifer2023:null}", # Nichols dataset
        "{Kato2015:null, Nichols2017:null, Skora2018:all, Uzel2022:null, Yemini2021:null, Kaplan2020:null, Flavell2023:null, Leifer2023:null}", # Skora dataset
        "{Kato2015:null, Nichols2017:null, Skora2018:null, Uzel2022:all, Yemini2021:null, Kaplan2020:null, Flavell2023:null, Leifer2023:null}", # Uzel dataset
        "{Kato2015:null, Nichols2017:null, Skora2018:null, Uzel2022:null, Yemini2021:all, Kaplan2020:null, Flavell2023:null, Leifer2023:null}", # Yemini dataset
        "{Kato2015:null, Nichols2017:null, Skora2018:null, Uzel2022:null, Yemini2021:null, Kaplan2020:all, Flavell2023:null, Leifer2023:null}", # Kaplan dataset
        "{Kato2015:null, Nichols2017:null, Skora2018:null, Uzel2022:null, Yemini2021:null, Kaplan2020:null, Flavell2023:all, Leifer2023:null}", # Flavell dataset
        "{Kato2015:null, Nichols2017:null, Skora2018:null, Uzel2022:null, Yemini2021:null, Kaplan2020:null, Flavell2023:null, Leifer2023:all}"  # Leifer dataset
      ])}
      
submodule:
  dataset:
    # Chosen directory should contain a fixed validation dataset
    use_these_datasets:
      path: <FullUserPath>/worm-graph/data/datasets/<DatasetFolder>
      num_worms: null

  model:
    # Train model from scratch
    type: NeuralTransformer

experiment:
  key: cds_transformer # what parameter are you experimenting with
  mode: MULTIRUN
  seed: null